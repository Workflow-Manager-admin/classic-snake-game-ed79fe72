{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file implements the front-end component of a Snake game using React. It contains state management, rendering logic on a HTML canvas, user input handling for controlling the snake, game start/pause/reset controls, and visual styling specific to this game. The code manages game mechanics like movement, collision detection, food spawning, scoring, and game over overlay.", "external_files": ["./App.css"], "external_methods": ["canvas.getContext", "canvasRef.current", "window.addEventListener", "window.removeEventListener", "setInterval", "clearInterval", "setState", "useEffect", "useState", "useRef", "useCallback", "Math.random"], "published": ["App"], "classes": [], "methods": [{"name": "drawGame(canvas, snake, food, isOver, score, justAte)", "description": "Renders the snake, food, grid, and overlay on the canvas based on the current game state.", "scope": "", "scopeKind": ""}, {"name": "spawnFood(currentSnake)", "description": "Generates a new food location on the grid avoiding the snake's current position.", "scope": "", "scopeKind": ""}, {"name": "buttonStyle({ primary, accent, retro })", "description": "Helper function to generate consistent styling for control buttons.", "scope": "", "scopeKind": ""}, {"name": "App()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["setInterval", "clearInterval", "setState", "useEffect", "useRef", "spawnFood", "drawGame", "window.addEventListener", "window.removeEventListener", "Math.random"], "search-terms": ["React Snake Game", "Canvas rendering snake", "game over overlay", "spawnFood function", "moveSnake logic", "react game state hooks", "responsive canvas sizing"], "state": 2, "file_id": 7, "knowledge_revision": 37, "git_revision": "0a75bc8810993dfab101d807e5dae342620c2910", "ctags": [{"_type": "tag", "name": "App", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^function App() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ArrowDown", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowDown:  { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRECTIONS", "scopeKind": "class"}, {"_type": "tag", "name": "ArrowLeft", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowLeft:  { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRECTIONS", "scopeKind": "class"}, {"_type": "tag", "name": "ArrowRight", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowRight: { x: 1, y: 0 }$/", "language": "JavaScript", "kind": "class", "scope": "DIRECTIONS", "scopeKind": "class"}, {"_type": "tag", "name": "ArrowUp", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowUp:    { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRECTIONS", "scopeKind": "class"}, {"_type": "tag", "name": "BOARD_SIZE", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const BOARD_SIZE = 20;             \\/\\/ 20x20 grid$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "CELL_SIZE", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const CELL_SIZE = 22;              \\/\\/ px$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DIRECTIONS", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const DIRECTIONS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "INITIAL_DIRECTION", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const INITIAL_DIRECTION = { x: 1, y: 0 }; \\/\\/ right$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "INITIAL_SNAKE", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const INITIAL_SNAKE = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MOVE_INTERVAL", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const MOVE_INTERVAL = 110;         \\/\\/ ms, controls snake speed$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "THEME_COLORS", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const THEME_COLORS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "accent", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  accent: \"#FFC107\",     \\/\\/ Food$/", "language": "JavaScript", "kind": "property", "scope": "THEME_COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "bg", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  bg: \"#FFFFFF\",         \\/\\/ canvas bg (light)$/", "language": "JavaScript", "kind": "property", "scope": "THEME_COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "buttonStyle", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^function buttonStyle({ primary, accent, retro }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ primary, accent, retro })"}, {"_type": "tag", "name": "canvasBorder", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  canvasBorder: \"#e9ecef\", \\/\\/ border for light, can be adjusted$/", "language": "JavaScript", "kind": "property", "scope": "THEME_COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "canvasRef", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            ref={canvasRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "canvasSize", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            height={canvasSize}$/", "language": "JavaScript", "kind": "field", "scope": "height", "scopeKind": "class"}, {"_type": "tag", "name": "canvasSize", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            width={canvasSize}$/", "language": "JavaScript", "kind": "field", "scope": "width", "scopeKind": "class"}, {"_type": "tag", "name": "direction", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  moveRef.current = { direction, isRunning, snake, food, isGameOver, justAte, pendingDirection }/", "language": "JavaScript", "kind": "field", "scope": "moveRef.current", "scopeKind": "class"}, {"_type": "tag", "name": "drawGame", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  function drawGame(canvas, snake, food, isOver, score, justAte) {$/", "language": "JavaScript", "kind": "function", "signature": "(canvas, snake, food, isOver, score, justAte)"}, {"_type": "tag", "name": "eye1", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^          eye1 = {$/", "language": "JavaScript", "kind": "class", "scope": "drawGame", "scopeKind": "class"}, {"_type": "tag", "name": "eye2", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^          eye2 = {$/", "language": "JavaScript", "kind": "class", "scope": "drawGame", "scopeKind": "class"}, {"_type": "tag", "name": "handleReset", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            onClick={handleReset}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isGameOver", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            disabled={isGameOver}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isOpposite", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const isOpposite = (dir1, dir2) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isRunning", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            aria-label={isRunning ? \"Pause\" : \"Start\"}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "isRunning", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            disabled={isRunning && !isGameOver}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isRunning", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            onClick={isRunning ? handlePause : handleStart}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "newHead", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^    let newHead = {$/", "language": "JavaScript", "kind": "class", "scope": "App", "scopeKind": "class"}, {"_type": "tag", "name": "primary", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  primary: \"#4CAF50\",    \\/\\/ Snake\\/head, button bg$/", "language": "JavaScript", "kind": "property", "scope": "THEME_COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "secondary", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  secondary: \"#388E3C\",  \\/\\/ Snake body, panel backgrounds$/", "language": "JavaScript", "kind": "property", "scope": "THEME_COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "spawnFood", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  function spawnFood(currentSnake) {$/", "language": "JavaScript", "kind": "function", "signature": "(currentSnake)"}, {"_type": "tag", "name": "text", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  text: \"#222\",$/", "language": "JavaScript", "kind": "property", "scope": "THEME_COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            x: seg.x * cellPx + cellPx * (direction.x === 1 ? 0.71 : 0.23),$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye1", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            x: seg.x * cellPx + cellPx * (direction.x === 1 ? 0.71 : 0.23),$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye2", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            x: seg.x * cellPx + cellPx * 0.32,$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye1", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            x: seg.x * cellPx + cellPx * 0.69,$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye2", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^      x: snake[0].x + newDir.x,$/", "language": "JavaScript", "kind": "property", "scope": "App.newHead", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowDown:  { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowDown", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowLeft:  { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowLeft", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowRight: { x: 1, y: 0 }$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowRight", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowUp:    { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowUp", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const INITIAL_DIRECTION = { x: 1, y: 0 }; \\/\\/ right$/", "language": "JavaScript", "kind": "property", "scope": "INITIAL_DIRECTION", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            y: seg.y * cellPx + cellPx * (direction.y === 1 ? 0.74 : 0.22)$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye1", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            y: seg.y * cellPx + cellPx * (direction.y === 1 ? 0.74 : 0.22)$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye2", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            y: seg.y * cellPx + cellPx * 0.33$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye1", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^            y: seg.y * cellPx + cellPx * 0.68$/", "language": "JavaScript", "kind": "property", "scope": "drawGame.eye2", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^      y: snake[0].y + newDir.y$/", "language": "JavaScript", "kind": "property", "scope": "App.newHead", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowDown:  { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowDown", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowLeft:  { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowLeft", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowRight: { x: 1, y: 0 }$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowRight", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^  ArrowUp:    { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRECTIONS.ArrowUp", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/classic-snake-game-ed79fe72/snake_game_frontend/src/App.js", "pattern": "/^const INITIAL_DIRECTION = { x: 1, y: 0 }; \\/\\/ right$/", "language": "JavaScript", "kind": "property", "scope": "INITIAL_DIRECTION", "scopeKind": "class"}], "hash": "317acdf93cfd9d978c73393f871cfa65", "format-version": 4, "code-base-name": "snake_game_frontend", "filename": "snake_game_frontend/src/App.js", "fields": [{"name": "accent: \"#FFC107\",     \\/\\/ Food", "scope": "THEME_COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "bg: \"#FFFFFF\",         \\/\\/ canvas bg (light)", "scope": "THEME_COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "canvasBorder: \"#e9ecef\", \\/\\/ border for light, can be adjusted", "scope": "THEME_COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={canvasRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "height={canvasSize}", "scope": "height", "scopeKind": "class", "description": "unavailable"}, {"name": "width={canvasSize}", "scope": "width", "scopeKind": "class", "description": "unavailable"}, {"name": "moveRef.current = { direction, isRunning, snake, food, isGameOver, justAte, pendingDirection }/", "scope": "moveRef.current", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={handleReset}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isGameOver}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={isRunning ? \"Pause\" : \"Start\"}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isRunning && !isGameOver}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isRunning ? handlePause : handleStart}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "primary: \"#4CAF50\",    \\/\\/ Snake\\/head, button bg", "scope": "THEME_COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "secondary: \"#388E3C\",  \\/\\/ Snake body, panel backgrounds", "scope": "THEME_COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "text: \"#222\",", "scope": "THEME_COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "x: seg.x * cellPx + cellPx * (direction.x === 1 ? 0.71 : 0.23),", "scope": "drawGame.eye1", "scopeKind": "class", "description": "unavailable"}, {"name": "x: seg.x * cellPx + cellPx * 0.32,", "scope": "drawGame.eye1", "scopeKind": "class", "description": "unavailable"}, {"name": "x: seg.x * cellPx + cellPx * 0.69,", "scope": "drawGame.eye2", "scopeKind": "class", "description": "unavailable"}, {"name": "x: snake[0].x + newDir.x,", "scope": "App.newHead", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowDown:  { x: 0, y: 1 },", "scope": "DIRECTIONS.ArrowDown", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowLeft:  { x: -1, y: 0 },", "scope": "DIRECTIONS.ArrowLeft", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowRight: { x: 1, y: 0 }", "scope": "DIRECTIONS.ArrowRight", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowUp:    { x: 0, y: -1 },", "scope": "DIRECTIONS.ArrowUp", "scopeKind": "class", "description": "unavailable"}, {"name": "const INITIAL_DIRECTION = { x: 1, y: 0 }; \\/\\/ right", "scope": "INITIAL_DIRECTION", "scopeKind": "class", "description": "unavailable"}, {"name": "y: seg.y * cellPx + cellPx * (direction.y === 1 ? 0.74 : 0.22)", "scope": "drawGame.eye1", "scopeKind": "class", "description": "unavailable"}, {"name": "y: seg.y * cellPx + cellPx * 0.33", "scope": "drawGame.eye1", "scopeKind": "class", "description": "unavailable"}, {"name": "y: seg.y * cellPx + cellPx * 0.68", "scope": "drawGame.eye2", "scopeKind": "class", "description": "unavailable"}, {"name": "y: snake[0].y + newDir.y", "scope": "App.newHead", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"37": "0a75bc8810993dfab101d807e5dae342620c2910"}]}